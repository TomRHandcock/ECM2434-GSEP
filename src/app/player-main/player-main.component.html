<!-- The navigations bar (Author: George White) -->
<nav class="navbar" role="navigation">
  <div class="navbar-brand">
    <div class="navbar-item">
      <span class="navbar-header">Team C</span>
    </div>
    <a class="navbar-burger" role="button" aria-label="Toggle navigation" (click)="showMenu = !showMenu">
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
    </a>
  </div>
  <div class="navbar-menu" [ngClass]="showMenu? 'is-active' : ''">
    <div class="navbar-end">
      <a class="navbar-item" (click)="openProgress(); showMenu = false">Our Progress</a>
      <a class="navbar-item" style="color:red">I'm Lost</a>
      <a class="navbar-item" style="color:red">Help and Support</a>
      <a class="navbar-item" style="color:red">Settings</a>
      <a class="navbar-item" (click)="signOut()">Sign out</a>
    </div>
  </div>
</nav>



<ng-container #switch [ngSwitch]="this.screen">
   <!-- The home screen -->
  <main *ngSwitchCase="'home'" class="container home-container has-navbar-fixed-top">
    <!-- The map -->
    <section class="element" id="mapSection">Map will go here</section>
    <!-- The description of the next location -->
    <section class="element" id="clueSection">
      <h4 class="subtitle is-4 is-marginless next-location">Next Location</h4>
      <div class="next-clue">
        This is some placeholder text that will represent where the description and next clue is for the next location.
      </div>
    </section>

    <!-- The QR camera opener (Author: OGWSaunders) -->
    <button (click)="openQrScanner()" class="button is-primary">
      <span class="icon is-small">
        <fa-icon [icon]="scanQrCodeIcon"></fa-icon>
      </span>
      <span>Scan QR code</span>
    </button>

    <!-- The bottom buttons (Author: AlexWesterman) -->
    <div class="button-bar" id="playerButtonBar">
      <button class="button is-primary">
        <span>Request Hint</span>
      </button>
      <button class="button is-primary">
        <span class="icon is-small">
          <fa-icon [icon]="visitWebsiteIcon"></fa-icon>
        </span>
        <a href="https://www.exeter.ac.uk/students"><span>UoE Website</span></a>
      </button>
    </div>
  </main>

  <!-- The progress screen (Author: AlexWesterman) -->
  <main *ngSwitchCase="'progress'" class="container progress-container has-navbar-fixed-top">
    <!-- The title section -->
    <div class="columns">
      <div class="column is-full">
        <h1 class="title is-1">Your Current Progress</h1>
      </div>
    </div>
    <!-- The table of entries -->
    <div class="columns">
      <table class="table column is-full flex-grow">
        <tbody>
          <tr>
            <td class="row-heading">Score</td>
            <td class="row-value">{{this.score}}</td>
          </tr>

          <!-- Some example entries that we may choose to implement -->
          <tr>
            <td class="row-heading">Locations Complete</td>
            <td class="row-value">0</td>
          </tr>
          <tr>
            <td class="row-heading">Hints Used</td>
            <td class="row-value">0</td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- A button to return back to the home screen -->
    <div role="button" class="is-primary button" id="progressBack" (click)="returnHome()">
      <span class="icon is-small">
        <fa-icon [icon]="homeIcon"></fa-icon>
      </span>
      <span>Back to Home</span>
    </div>
  </main>

  <!-- The QR scanner screen (Author: OGWSaunders) -->
  <main *ngSwitchCase="'qrScanner'" class="container qrScanner-container has-navbar-fixed-top">
   <!-- A button to open the user's camera -->
    <button (click)="openCamera()" class="button is-primary">
      <span class="icon is-small">
        <fa-icon [icon]="scanQrCodeIcon"></fa-icon>
      </span>
      <span>Open Camera</span>
    </button>

    <!-- The actual QR scanner component -->
    <qr-scanner id="QrScanner"
      [debug]="false"
      [canvasWidth]="1080"
      [canvasHeight]="720"
      [stopAfterScan]="true"
      [updateTime]="500">
    </qr-scanner>

    <!-- A button to return to the home view -->
    <div role="button" class="is-primary button" id="qrScannerBack" (click)="returnHome()" (load)="qrCodeOnInit()">
      <span class="icon is-small">
        <fa-icon [icon]="homeIcon"></fa-icon>
      </span>
      <span>Back to Home</span>
    </div>
  </main>
</ng-container>
